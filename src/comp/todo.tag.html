<todo>
    <li>
        <span class="{ completed: done }">
            <input type="checkbox" checked = "{ done }" onclick="{ this.toggle }" />
            <a href="#/todo/{uuid}/show">{ name }</a>
            <button type="button" onclick="{ remove }">Delete</button>
        </span>
    </li>
    
    <script>
    console.log(opts);
    var tag = this;
    var todos = tag.parent.todos;
    this.bus = tag.parent.bus; 
    toggle(e) {
        var item = e.item;
        item.done = !item.done;
        todos.save();
        tag.bus.trigger("collectionUpdated"); 
        return true;
    }
   
    this.bus.on("collectionUpdated", function() {
		tag.update();
	});
    
    tag.remove = function() {
        if(tag.name) {
            todos.remove(tag.uuid);
        }
    }
    
    </script>
</todo>